
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Interactivo</title>
    
<style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    .question { margin-top: 20px; }
    .correct { background-color: #DFF2BF; }
    .incorrect { background-color: #FFB0B0; }
</style>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.3.0/confetti.min.js"></script>

</head>
<body>

<h2>Examen Interactivo</h2>

<form id="quiz" onsubmit="return evaluateQuiz();">

    <div class="question" onclick="startTimer(1)">
        <p>1. ¿Qué es la fotosíntesis?</p>
    
        <div onclick="endTimer(1)">
            <input type="radio" name="q1" value="Proceso de respiración de las plantas"> Proceso de respiración de las plantas<br>
        </div>
        
        <div onclick="endTimer(1)">
            <input type="radio" name="q1" value="Proceso donde las plantas convierten luz solar en energía"> Proceso donde las plantas convierten luz solar en energía<br>
        </div>
        
        <div onclick="endTimer(1)">
            <input type="radio" name="q1" value="Proceso de crecimiento de las plantas"> Proceso de crecimiento de las plantas<br>
        </div>
        
        <div onclick="endTimer(1)">
            <input type="radio" name="q1" value="Proceso de absorción de agua por las plantas"> Proceso de absorción de agua por las plantas<br>
        </div>
        </div>
    <div class="question" onclick="startTimer(2)">
        <p>2. ¿Cuál es el planeta más grande del sistema solar?</p>
    
        <div onclick="endTimer(2)">
            <input type="radio" name="q2" value="Marte"> Marte<br>
        </div>
        
        <div onclick="endTimer(2)">
            <input type="radio" name="q2" value="Venus"> Venus<br>
        </div>
        
        <div onclick="endTimer(2)">
            <input type="radio" name="q2" value="Júpiter"> Júpiter<br>
        </div>
        
        <div onclick="endTimer(2)">
            <input type="radio" name="q2" value="Saturno"> Saturno<br>
        </div>
        </div>
<input type="submit" value="Evaluar">
</form>

<p id="result"></p>

<script>
let startTimes = [];
let endTimes = [];
function startTimer(questionNumber) {
    startTimes[questionNumber] = new Date();
}

function endTimer(questionNumber) {
    endTimes[questionNumber] = new Date();
}

function evaluateQuiz() {
    const correctAnswers = [
"Proceso donde las plantas convierten luz solar en energía",
"Júpiter",

    ];
    
    let score = 0;
    let answerFeedback = [];
    let timesTaken = [];
    for (let i = 1; i <= correctAnswers.length; i++) {
        const selectedOption = document.querySelector(`input[name=q${i}]:checked`);
        if (selectedOption && selectedOption.value === correctAnswers[i-1]) {
            score++;
            document.querySelector(`input[name=q${i}]:checked`).parentElement.classList.add('correct');
            answerFeedback.push(`Pregunta ${i}: Correcto`);
        } else {
            document.querySelector(`input[name=q${i}]:checked`).parentElement.classList.add('incorrect');
            answerFeedback.push(`Pregunta ${i}: Incorrecto. Respuesta correcta: ${correctAnswers[i-1]}`);
        }
        let timeTaken = (endTimes[i-1] - startTimes[i-1]) / 1000;  // Convert to seconds
        timesTaken.push(`Pregunta ${i}: ${timeTaken.toFixed(2)} segundos`);
    }

    let feedbackString = "Registro de respuestas:\n";
    for (let i = 0; i < answerFeedback.length; i++) {
        feedbackString += answerFeedback[i] + "\n";
    }

    let timeString = "\nTiempo por pregunta:\n";
    for (let i = 0; i < timesTaken.length; i++) {
        timeString += timesTaken[i] + "\n";
    }

    let emoji = score > (correctAnswers.length / 2) ? "😊" : "😞";
    document.getElementById("result").textContent = `Obtuviste ${score} de ${correctAnswers.length} respuestas correctas. ${emoji}`;
    alert(feedbackString + timeString);

    if (score > (correctAnswers.length / 2)) {
        confetti({ particleCount: 200 });
    }

    return false;  // to prevent form submission
}
</script>

</body>
</html>
